my-nextjs-project/
â”œâ”€â”€ app/                    # App Router ê¸°ë°˜ì˜ ì£¼ìš” ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ layout.tsx         # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (ì „ì—­ ë ˆì´ì•„ì›ƒ)
â”‚   â”œâ”€â”€ page.tsx          # ë£¨íŠ¸ í˜ì´ì§€ (í™ˆí˜ì´ì§€)
â”‚   â”œâ”€â”€ globals.css       # ì „ì—­ ìŠ¤íƒ€ì¼ (ì„ íƒì )
â”‚   â”œâ”€â”€ favicon.ico       # íŒŒë¹„ì½˜ (ì„ íƒì )
â”‚   â”œâ”€â”€ [slug]/           # ë™ì  ë¼ìš°íŒ… ì˜ˆì‹œ
â”‚   â”‚   â””â”€â”€ page.tsx      # ë™ì  í˜ì´ì§€
â”‚   â”œâ”€â”€ api/              # API ë¼ìš°íŠ¸ (ì˜ˆ: /api/*)
â”‚   â”‚   â””â”€â”€ route.ts      # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â””â”€â”€ (group)/          # ë¼ìš°íŒ… ê·¸ë£¹ (ì„ íƒì , URLì— ë°˜ì˜ ì•ˆ ë¨)
â”‚       â””â”€â”€ page.tsx      # ê·¸ë£¹ ë‚´ í˜ì´ì§€
â”œâ”€â”€ public/                # ì •ì  íŒŒì¼ ì œê³µ
â”‚   â”œâ”€â”€ images/           # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â””â”€â”€ static/           # ê¸°íƒ€ ì •ì  ìì›
â”œâ”€â”€ components/           # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Header.tsx        # ì˜ˆ: í—¤ë” ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ Footer.tsx        # ì˜ˆ: í‘¸í„° ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë‚˜ ì™¸ë¶€ ì„œë¹„ìŠ¤ ë¡œì§
â”‚   â””â”€â”€ api.ts            # API í˜¸ì¶œ í•¨ìˆ˜
â”œâ”€â”€ styles/               # ìŠ¤íƒ€ì¼ íŒŒì¼ (Tailwind CSS ë“± ì‚¬ìš© ì‹œ ì„ íƒì )
â”‚   â””â”€â”€ tailwind.css      # ì˜ˆ: Tailwind CSS íŒŒì¼
â”œâ”€â”€ types/                # TypeScript íƒ€ì… ì •ì˜ (ì„ íƒì )
â”‚   â””â”€â”€ index.ts          # íƒ€ì… ì„ ì–¸
â”œâ”€â”€ middleware.ts         # ë¯¸ë“¤ì›¨ì–´ (ì„ íƒì , ì¸ì¦/ë¦¬ë‹¤ì´ë ‰íŠ¸ ë“±)
â”œâ”€â”€ next.config.js        # Next.js ì„¤ì • íŒŒì¼
â”œâ”€â”€ tsconfig.json         # TypeScript ì„¤ì • (TypeScript ì‚¬ìš© ì‹œ)
â”œâ”€â”€ package.json          # ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md             # í”„ë¡œì íŠ¸ ì„¤ëª…

###### Componentì™€ Containerì˜ ì°¨ì´
1. Component
	1. UIë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†Œ (Button, Form, Card...)
2. Container
	1. UI ìš”ì†Œ + ìƒíƒœ ë¡œì§ ì—°ê²°
	2. ì…ë ¥ëœ ë°ì´í„° ì²˜ë¦¬, API í˜¸ì¶œ...
### ë””ë ‰í„°ë¦¬ êµ¬ì¡°
BLOG
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â””â”€â”€ url
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ url+
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â””â”€â”€ url/[${ë™ì URL}]
â”‚   â”œâ”€â”€ components
â”‚   â”œâ”€â”€ containers
â”‚   â”œâ”€â”€ hooks
â”‚   â”œâ”€â”€ services
â”‚   â”œâ”€â”€ types
â”‚   â”œâ”€â”€ utils
â”‚   â”œâ”€â”€ layout.tsx


### 1. Connect MongoDB
1. [MongoDB download](https://www.mongodb.com/try/download/community-kubernetes-operator)
2. [Mongosh(MongoDB Shell) download](https://www.mongodb.com/try/download/shell)
3. [MongoDB Docs](https://www.mongodb.com/ko-kr/docs/manual/introduction/)

**mongosh ì ‘ì†**
*ì‚¬ìš©ì ìƒì„±*
```
use admin
db.createUser({
	user: 'root',
	pwd: 'mongodbadmin',
	roles: [{ role: 'root', db: 'blog' }]
})
```
*ë°ì´í„° ë² ì´ìŠ¤ ìƒì„±*
1. use {dbì´ë¦„} => collection(í…Œì´ë¸”)ì„ ë§Œë“¤ì–´ì£¼ì§€ ì•Šì•„ë„ ìƒì„±ë¨
2. ë°ì´í„° Insert
```
db.{collection}.insertOne({
	name: 'í™ê¸¸ë™',
	age: 30,
	city: 'ì„œìš¸'
})
insertMany()
```
3. ë°ì´í„° ì¡°íšŒ
```
db.{collection}.find()
```
3. ë°ì´í„° ì‚­ì œ
```
db.users.deleteOne({ name: "í™ê¸¸ë™" })
deleteMany()
```
4. ë°ì´í„° ì—…ë°ì´íŠ¸
```
db.users.updateOne( { name: "ê¹€ì˜í¬" }, // ì¡°ê±´ { $set: { age: 26 } } // ë³€ê²½ ë‚´ìš© )
updateMany()
```

5. ì‚¬ìš©ì ìƒì„±
```
db.createUser({
	user: 'blogadmin',
	pwd: 'mongodbadmin',
	roles: [{ role: 'readWrite', 'db': 'blog' }]
});
```
### 2. Setting on NextJS
1. `npm i --save @next`

~~### 3. Try TDD~~
npm install -D jest jest-environment-jsdom @testing-library/react @testing-library/dom @testing-library/jest-dom ts-node

df
##### 1. workpath
1. articleFetch.ts ì‘ì„±, MongoDBì—ì„œ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œ ì‘ì„±
2. api ë””ë ‰í„°ë¦¬ ìƒì„±, route.ts ì‘ì„±

###### í…ìŠ¤íŠ¸ì—ë””í„°...
react 19.0.0ì— í˜¸í™˜ë˜ëŠ” í…ìŠ¤íŠ¸ì—ë””í„° ì°¾ê¸°..
~~ToastUI~~
~~Quill.js~~

> ê·¼ë° ì™œ í…ìŠ¤íŠ¸ì—ë””í„°ëŠ” ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì´ ì•ˆë¼?

- ëŒ€ë¶€ë¶„ì˜ ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„°(Tiptap, CKEditor, Quill ë“±)ëŠ” DOM(Document Object Model)ì„ ì§ì ‘ ì¡°ì‘í•˜ê±°ë‚˜ DOM ì´ë²¤íŠ¸(ì˜ˆ: onclick, onkeydown)ì— ì˜ì¡´í•©ë‹ˆë‹¤.
- ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì€ Node.js í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ëŠ”ë°, Node.jsì—ëŠ” ë¸Œë¼ìš°ì €ì˜ window, document ê°™ì€ ê°ì²´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ SSR ì¤‘ì— ì—ë””í„°ê°€ ì´ˆê¸°í™”ë˜ë ¤ê³  í•˜ë©´ "document is not defined" ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, Quillì´ë‚˜ CKEditorëŠ” DOM ìš”ì†Œì— ì ‘ê·¼í•´ íˆ´ë°”ë‚˜ í¸ì§‘ ì˜ì—­ì„ ë Œë”ë§í•˜ëŠ”ë°, ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
> SSRì—ì„œ TextEditorë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ê¼­ use clientë¥¼ ì‚¬ìš©í•´ì•¼í• ê¹Œ?
- Dynamic Import
- [Dynamic Importë¡œ ì„±ëŠ¥ ì˜¬ë¦¬ê¸°](https://pks2974.medium.com/dynamic-import-%EB%A1%9C%EC%9B%B9%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%84%B1%EB%8A%A5-%EC%98%AC%EB%A6%AC%EA%B8%B0-caf62cc8c375)

>use clientëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë“  ë˜‘ê°™ë‚˜?

"use client"ëŠ” Next.jsì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§(Client-Side Rendering, CSR)ì„ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ëŠ” ë””ë ‰í‹°ë¸Œë¡œ, Reactì˜ í´ë¼ì´ì–¸íŠ¸ ì „ìš© ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤(ì˜ˆ: useState, useEffect ê°™ì€ í›…). ì´ ë””ë ‰í‹°ë¸Œë¥¼ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë“  "ë˜‘ê°™ë‹¤"ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì€ **ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‹¤**ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ì°¨ì´ì ê³¼ ë™ì‘ ë°©ì‹ì„ ìì„¸íˆ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

---

### 1. "use client"ì˜ ê¸°ë³¸ ë™ì‘

- "use client"ëŠ” íŒŒì¼ ë‹¨ìœ„ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì¦‰, ì´ ë””ë ‰í‹°ë¸Œê°€ ì„ ì–¸ëœ íŒŒì¼ì€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ê°„ì£¼ë˜ë©°, í•´ë‹¹ íŒŒì¼ê³¼ ê·¸ íŒŒì¼ì—ì„œ ì§ì ‘ ê°€ì ¸ì˜¤ëŠ” ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- Next.jsì˜ ê¸°ë³¸ ì„¤ì •ì€ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(Server-Side Rendering, SSR)ì´ë¯€ë¡œ, "use client"ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì—ì„œ ë Œë”ë§ë©ë‹ˆë‹¤.

---

### 2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ "use client"ë¥¼ ì‚¬ìš©í•  ê²½ìš°

- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— "use client"ë¥¼ ì„ ì–¸í•˜ë©´, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ ì•„ë˜ì˜ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œë¡œ ë™ì‘í•©ë‹ˆë‹¤(ë‹¨, ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ ë³„ë„ì˜ íŒŒì¼ì— ì •ì˜ë˜ì–´ ìˆê³  "use client"ê°€ ì—†ìœ¼ë©´ ì˜ˆì™¸).
- ì˜ˆì‹œ:
    
    jsx
    
    CollapseWrapCopy
    
    `// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ (Parent.js) "use client"; import Child from './Child'; export default function Parent() { return ( <div> <Child /> </div> ); }`
    
    jsx
    
    CollapseWrapCopy
    
    `// ìì‹ ì»´í¬ë„ŒíŠ¸ (Child.js) export default function Child() { return <p>ìì‹ ì»´í¬ë„ŒíŠ¸</p>; }`
    
    - ì—¬ê¸°ì„œ Parent.jsê°€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì´ë¯€ë¡œ, Child.jsê°€ ë³„ë„ë¡œ "use client"ë¥¼ ì„ ì–¸í•˜ì§€ ì•Šì•„ë„ í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ì—ì„œ ë Œë”ë§ë©ë‹ˆë‹¤.
    - í•˜ì§€ë§Œ Child.jsê°€ ë…ë¦½ì ì¸ íŒŒì¼ì´ê³  ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚¨ì•„ ìˆìœ¼ë ¤ë©´, ë¶€ëª¨ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „í™˜ë˜ëŠ” ê²½ê³„ê°€ ìƒê¹ë‹ˆë‹¤.

---

### 3. ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ "use client"ë¥¼ ì‚¬ìš©í•  ê²½ìš°

- ìì‹ ì»´í¬ë„ŒíŠ¸ì— "use client"ë¥¼ ì„ ì–¸í•˜ë©´, ê·¸ ìì‹ ì»´í¬ë„ŒíŠ¸ë§Œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œë¡œ ë™ì‘í•˜ê³  ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜ˆì‹œ:
    
    jsx
    
    CollapseWrapCopy
    
    `// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ (Parent.js) import Child from './Child'; export default function Parent() { return ( <div> <Child /> </div> ); }`
    
    jsx
    
    CollapseWrapCopy
    
    `// ìì‹ ì»´í¬ë„ŒíŠ¸ (Child.js) "use client"; import { useState } from 'react'; export default function Child() { const [count, setCount] = useState(0); return <button onClick={() => setCount(count + 1)}>{count}</button>; }`
    
    - ì—¬ê¸°ì„œ Parent.jsëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ìœ ì§€ë˜ê³ , Child.jsë§Œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ì´ëŠ” ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ê²½ê³„ë¥¼ ìµœì†Œí™”í•˜ë©° ì„±ëŠ¥ ìµœì í™”ì— ìœ ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 4. ë¶€ëª¨ vs ìì‹ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì˜ ì°¨ì´

- **ë²”ìœ„(Scope)**:
    - ë¶€ëª¨ì—ì„œ "use client"ë¥¼ ì‚¬ìš©í•˜ë©´ í•˜ìœ„ íŠ¸ë¦¬ ì „ì²´ê°€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë©ë‹ˆë‹¤.
    - ìì‹ì—ì„œ ì‚¬ìš©í•˜ë©´ í•„ìš”í•œ ë¶€ë¶„ë§Œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì„±ëŠ¥**:
    - ë¶€ëª¨ì—ì„œ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „í™˜ë  ìˆ˜ ìˆì–´ ì´ˆê¸° ë¡œë“œ ì†ë„ê°€ ëŠë ¤ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.
    - ìì‹ì—ì„œ ì‚¬ìš©í•˜ë©´ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœëŒ€í•œ í™œìš©í•´ ì´ˆê¸° ë Œë”ë§ì„ ë¹ ë¥´ê²Œ í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ ê¸°ëŠ¥ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ CSRë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìœ ì§€ë³´ìˆ˜ì„±**:
    - ë¶€ëª¨ì—ì„œ ì„ ì–¸í•˜ë©´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ì•”ë¬µì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë™ì‘í•˜ë¯€ë¡œ ì½”ë“œê°€ ê°„ë‹¨í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì˜ë„ì¹˜ ì•Šê²Œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ê¸° ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ìì‹ì—ì„œ ì„ ì–¸í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë³„ ì—­í• ì´ ëª…í™•í•´ì ¸ ëª¨ë“ˆí™”ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

---

### 5. ê²°ë¡ : ë˜‘ê°™ì§€ ì•Šë‹¤

- "use client"ë¥¼ ë¶€ëª¨ì—ì„œ ì“°ë“  ìì‹ì—ì„œ ì“°ë“  ê²°ê³¼ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ê¸°ëŠ¥(ì˜ˆ: í›… ì‚¬ìš©)ì´ ë™ì‘í•œë‹¤ëŠ” ì ì€ ê°™ì§€ë§Œ, **ì ìš© ë²”ìœ„ì™€ ì„±ëŠ¥, ì„¤ê³„ ê´€ì ì—ì„œ ì°¨ì´**ê°€ ìˆìŠµë‹ˆë‹¤.
- **ì¶”ì²œ ì ‘ê·¼ë²•**:
    - í´ë¼ì´ì–¸íŠ¸ ê¸°ëŠ¥ì´ í•„ìš”í•œ ìµœì†Œí•œì˜ ì»´í¬ë„ŒíŠ¸ì—ë§Œ "use client"ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ê°€ëŠ¥í•˜ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„ ì–¸í•´ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ì´ì ì„ ìµœëŒ€í•œ ì‚´ë¦¬ëŠ” ê²ƒì´ Next.jsì˜ ì² í•™ì— ë¶€í•©í•©ë‹ˆë‹¤.
    - ë¶€ëª¨ì—ì„œ "use client"ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì „ì²´ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ê°€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—¬ì•¼ í•  ë•Œ(ì˜ˆ: ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ë‚˜ ìƒí˜¸ì‘ìš©ì´ ë§ì€ UI)ë§Œ ê³ ë ¤í•˜ì„¸ìš”.

ê¶ê¸ˆí•œ ì ì´ ë” ìˆìœ¼ë©´ ë§ì”€í•´ì£¼ì„¸ìš”!


CKEditorë¡œ ê²°ì •
- npm install @ckeditor/ckeditor5-react, ```bash
npm install ckeditor5
```
- 'use client'ê°€ ì•„ë‹Œ 'next/dynamic'
```

Hydration mismatch

ì „ì—­ ë ˆì´ì•„ì›ƒì„ ì¤‘ì²©í•˜ëŠ” êµ¬ì¡°ë¼ì„œ, ì „ì—­ë ˆì´ì•„ì›ƒì„ ìµœì†Œí™” í•˜ëŠ”ê²Œ ì¢‹ìŒ

> Editor ComponentëŠ” 'use client' + Editor Footerì— ì €ì¥ ë²„íŠ¼ì´ ì¡´ì¬

SSRê³¼ CSRì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„ì§“ê³  ê°€ê¸°,

NextJSëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SSRë¡œ ë™ì‘,
CSRì—ì„œ APIìš”ì²­ ì‹œ, API endpointë¡œ ìš”ì²­
SSRì—ì„œ APIìš”ì²­ ì‹œ, ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë¡œ ìš”ì²­ ê°€ëŠ¥



TO-DO
1. ë©”ì¸í˜ì´ì§€ ë¦¬ìŠ¤íŠ¸ SSRë¡œ ë¡œë“œ ë° ìŠ¤í¬ë¡¤ ì‹œ CSRë¡œ fetching
2. TextEditor toolbar ì •ë¦¬
3. Category ë¶„ë¦¬
4. ê´€ë¦¬ì Category Insertë¡œì§
5. Articleì— í•œì¤„ ì„¤ëª… (Description ì¶”ê°€)
6. í™˜ê²½ ë°°í¬ë¡œ ë³€ê²½, MongoDB cloud
7. mongodb index ë° unique í‚¤ ì„¤ì •

###### íƒ€ì… ë‹¨ì–¸(Type Assertion) ì‚¬ìš©
1. typescript ë³€ìˆ˜ ë’¤ì— !ë¥¼ ë¶™íˆë©´, undefinedê°€ ì•„ë‹˜ì„ ë‹¨ì–¸.
2. as number ê°™ì´ ë‹¨ì–¸í–…ë¦¬ë©´, undefinedê°€ ë°œìƒí•˜ì§€ ì•ŠìŒì„ í™•ì‹ 

const categories = await db.collection('category').find().toArray();
const categories = await db.collection<Category>('category').find().toArray();
ëª…ì‹œí•´ì£¼ê¸°


ğŸ“Œ `[slug]` â†’ **í•˜ë‚˜ì˜ ë™ì  ì„¸ê·¸ë¨¼íŠ¸ë§Œ** ì²˜ë¦¬  
ğŸ“Œ `[...slug]` â†’ **ì—¬ëŸ¬ ê°œì˜ ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ê¹Œì§€** ì²˜ë¦¬ ê°€ëŠ¥

---

## ğŸ¯ ì–¸ì œ `[slug]` vs `[...slug]`ë¥¼ ì‚¬ìš©í• ê¹Œ?

âœ… **ë‹¨ì¼ ê°’ì´ë©´** `[slug]`  
âœ… **ì—¬ëŸ¬ ê°œì˜ ê°’(ì¤‘ì²© ê²½ë¡œ í¬í•¨)ì„ ë°›ìœ¼ë ¤ë©´** `[...slug]`


ê¸°ë³¸ íšŒì›ê°€ì… + ë¡œê·¸ì¸ (server action)
OAuth > (API Route, next-auth) 
middleware.tsì˜ ìœ„ì¹˜ëŠ” appë””ë ‰í„°ë¦¬ì™€ ë™ë“±í•œ ê´€ê³„ì— ì¡´ì¬


íŒŒì¼ êµ¬ì¡° ë¦¬íŒ©í„°ë§
ğŸ“¦src  
 â”£ ğŸ“‚app  
 â”ƒ â”£ ğŸ“‚(article)  
 â”ƒ â”ƒ â”£ ğŸ“‚articles  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚tags  
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚[tagName]  
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚write  
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚[slug]  
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”£ ğŸ“œlayout.tsx  
 â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”£ ğŸ“‚(auth)  
 â”ƒ â”ƒ â”£ ğŸ“‚signin  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”£ ğŸ“‚signup  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpage.tsx  
 â”ƒ â”ƒ â”— ğŸ“œlayout.tsx  
 â”ƒ â”£ ğŸ“‚actions  
 â”ƒ â”ƒ â”— ğŸ“œauth.ts  
 â”ƒ â”£ ğŸ“‚api  
 â”ƒ â”ƒ â”— ğŸ“‚articles  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“‚write  
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œroute.ts  
 â”ƒ â”— ğŸ“œglobals.css  
 â”£ ğŸ“‚components  
 â”ƒ â”£ ğŸ“‚articles  
 â”ƒ â”ƒ â”£ ğŸ“œArticleForm.tsx  
 â”ƒ â”ƒ â”£ ğŸ“œArticleVerticalCard.tsx  
 â”ƒ â”ƒ â”£ ğŸ“œSingleArticle.tsx  
 â”ƒ â”ƒ â”— ğŸ“œVerticalArticleCardList.tsx  
 â”ƒ â”£ ğŸ“‚atoms  
 â”ƒ â”ƒ â”— ğŸ“œTag.tsx  
 â”ƒ â”£ ğŸ“‚editor  
 â”ƒ â”ƒ â”£ ğŸ“‚CKEditor  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCKTextEditor.tsx  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œCKTextEditorWrapper.tsx  
 â”ƒ â”ƒ â”£ ğŸ“œEditorFooter.tsx  
 â”ƒ â”ƒ â”— ğŸ“œEditorTitle.tsx  
 â”ƒ â”£ ğŸ“‚main  
 â”ƒ â”ƒ â”£ ğŸ“œArticleSection.tsx  
 â”ƒ â”ƒ â”£ ğŸ“œCategorySection.tsx  
 â”ƒ â”ƒ â”— ğŸ“œTagSection.tsx  
 â”ƒ â”£ ğŸ“œHeader.tsx  
 â”ƒ â”— ğŸ“œLoader.tsx  
 â”£ ğŸ“‚lib  
 â”ƒ â”£ ğŸ“‚auth  
 â”ƒ â”ƒ â”— ğŸ“œsession.ts  
 â”ƒ â”£ ğŸ“‚db  
 â”ƒ â”ƒ â”— ğŸ“œmongod.ts  
 â”ƒ â”— ğŸ“‚validation  
 â”ƒ â”ƒ â”£ ğŸ“œsignIn.ts  
 â”ƒ â”ƒ â”— ğŸ“œsignUp.ts  
 â”£ ğŸ“‚service  
 â”ƒ â”£ ğŸ“œarticleFetch.ts  
 â”ƒ â”— ğŸ“œmemberFetch.ts  
 â”£ ğŸ“‚types  
 â”ƒ â”£ ğŸ“œglobal.d.ts  
 â”ƒ â”— ğŸ“œtypes.ts  
 â”£ ğŸ“‚__tests__  
 â”— ğŸ“œmiddleware.ts



íƒœê·¸ì— / ë“¤ì–´ê°€ë©´ ì•ˆë¨



**ë¬¸ì œ**: ArticleSectionì´ asyncë¡œ ì„ ì–¸ë˜ì–´ ìˆëŠ”ë°, 'use client'ë¥¼ ì‚¬ìš©í•œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” asyncë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” React í›…(useState, useEffect)ì„ ì‚¬ìš©í•˜ë©° ë¹„ë™ê¸° ì‘ì—…ì„ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. asyncì™€ useState/useEffectë¥¼ í•¨ê»˜ ì“°ëŠ” ê±´ ë¬¸ë²•ì ìœ¼ë¡œ ë§ì§€ ì•Šì•„ìš”.

1. ê²Œì‹œê¸€ë“±ë¡ Actionìœ¼ë¡œ ë³€ê²½
2. ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë©”íƒ€ë°ì´í„° ì¶”ê°€

try catch ë‚´ì—ì„œ redirect ì‚¬ìš© ì‹œ ì˜¤ë¥˜ ë°œìƒ
https://imdaxsz.tistory.com/74


## NextJSì—ì„œ Error: The edge runtime does not support Node.js 'dns' module.
